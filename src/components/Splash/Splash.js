import React, { Component } from "react";
import "./Splash.css";

const numberOfParts = 4;
const timeStepChange = 1000;
class Splash extends Component {
  state = {
    step: 1
  };
  componentDidMount() {
    const oldSetState = this.setState.bind(this);
    this.setState = (...params) => !this.unMounted && oldSetState(...params);
    this.waitNextChangeSymbol();
  }
  componentWillUnmount() {
    this.unMounted = true;
  }
  waitNextChangeSymbol = () => {
    if (this.unMounted) {
      return;
    }
    setTimeout(() => {
      this.updateSymbol();
    }, timeStepChange);
  };
  updateSymbol = () => {
    this.setState({ step: this.nextStep() });
    this.waitNextChangeSymbol();
  };
  nextStep = () => {
    const { step } = this.state;
    const nextStep = (step + 1) % (numberOfParts + 1);
    if (nextStep === 0) {
      return 1;
    }
    return nextStep;
  };
  render() {
    const { step } = this.state;
    return (
      <div className="containerSplash">
        <div className="splash">
          <div className="containerSymbol">
            <div className={`symbol step${step}`}>
              <svg
                className="part1"
                viewBox="0 0 8 34"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M0.16733 0.445862C0.304236 0.719674 0.471566 0.978275 0.562836 1.2673C2.72291 8.59938 4.8982 15.9315 6.99743 23.2788C7.40814 24.7087 7.59069 26.1994 7.77323 27.675C7.81886 28.0553 7.59069 28.6029 7.30166 28.8919C6.0543 30.0936 6.06951 31.5844 6.20641 33.3794C5.94781 33.1664 5.78048 33.0599 5.65879 32.9078C5.35455 32.5123 5.12638 32.0407 4.79172 31.6909C3.92464 30.8086 3.02715 29.9415 2.11444 29.1049C1.59724 28.6333 1.4147 28.0857 1.4147 27.4164C1.38427 25.3171 1.46033 23.2027 1.26258 21.1187C1.11046 19.3997 0.623684 17.696 0.304236 15.9923C0.228177 15.5968 0.16733 15.1861 0.16733 14.7754C1.20173 15.4295 1.17131 16.905 2.40346 17.4222C2.66206 16.6312 2.55558 15.9315 2.22092 15.2165C1.58203 13.7866 0.958343 12.3415 0.304236 10.9268C0.121694 10.5161 0.136906 10.227 0.42593 9.83153C0.684531 9.48166 0.897496 8.8884 0.775802 8.52332C0.0304236 6.34804 0.121694 4.12711 0.0912708 1.89098C0.0912708 1.41942 0.0304236 0.963062 0 0.491497C0.0608472 0.476285 0.121694 0.461074 0.16733 0.445862Z" />
              </svg>
              <svg
                className="part2"
                viewBox="0 0 10 21"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M9.73574 20.4735C8.03202 18.6785 6.44999 16.8683 5.6894 14.4192C4.95923 12.0766 4.0161 9.81003 3.07297 7.54348C2.19069 5.39861 1.18671 3.29938 0.243577 1.16973C0.167518 1.0024 0.137094 0.804649 0.0610352 0.515625C0.243577 0.576472 0.350059 0.576474 0.410907 0.622109C1.85603 1.88469 3.31636 3.14727 4.73106 4.45548C5.62855 5.27692 6.26745 6.25047 6.54126 7.46742C6.63253 7.86292 7.04325 8.19758 7.25622 8.57788C7.53003 9.04944 7.92554 9.52101 7.97117 10.0078C8.1385 12.1526 8.26019 14.2975 9.08163 16.3359C9.11206 16.412 9.08163 16.5184 9.08163 16.7922C8.48837 16.0621 8.00159 15.4688 7.4996 14.8451C6.86071 15.0581 6.92156 15.5449 7.14973 15.91C7.69736 16.777 8.27541 17.6745 8.97515 18.4199C9.56841 19.0284 9.65968 19.7129 9.73574 20.4735Z" />
              </svg>
              <svg
                className="part3"
                viewBox="0 0 8 65"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M0.842584 43.886C1.32936 43.2928 1.75529 42.7604 2.30292 42.1062C2.53109 42.8212 2.69842 43.384 2.88096 43.9621C2.95702 43.9469 3.03308 43.9317 3.10914 43.9165C3.15478 43.7643 3.21562 43.6122 3.21562 43.4601C3.20041 41.8933 3.21562 40.3265 3.16999 38.7597C3.12435 37.345 2.36376 36.2649 1.35979 35.3674C0.751314 34.835 0.538349 34.2265 0.523137 33.4355C0.416654 29.9064 0.614407 26.362 1.29894 22.9242C2.0291 19.2733 1.74008 15.6225 2.01389 11.9717C2.16601 9.94851 2.1508 7.92535 2.33334 5.90218C2.4094 5.00468 2.77448 4.1224 3.00266 3.2249C3.09393 3.2249 3.1852 3.2249 3.27647 3.2249C3.35253 3.4835 3.45901 3.7421 3.48943 4.01591C3.65676 5.82612 3.77846 7.65153 3.97621 9.46174C4.03706 10.0246 4.29566 10.5874 4.44778 11.135C4.56947 11.135 4.70638 11.135 4.82807 11.135C4.90413 10.7547 5.07146 10.3897 5.05625 10.0246C4.90413 7.80365 4.69117 5.58273 4.50862 3.36181C4.41735 2.26656 4.35651 1.1561 4.28045 0.0608472C4.35651 0.0456354 4.41735 0.0152118 4.49341 0C4.61511 0.349871 4.79765 0.699743 4.8585 1.06483C5.6343 6.02387 6.10586 10.9981 6.39489 16.018C6.68391 20.9771 7.14026 25.9057 7.55098 30.8647C7.62704 31.7927 7.80958 32.7206 7.85522 33.6485C7.87043 33.9527 7.73352 34.3634 7.52056 34.5916C6.16671 36.0367 5.43654 37.7557 5.1171 39.6724C4.91934 40.8132 4.75201 41.9541 4.61511 43.1102C4.55426 43.5818 4.81286 43.8708 5.39091 43.7948C5.5126 43.2471 5.6343 42.6843 5.78641 41.9389C6.45573 42.9277 7.00336 43.7643 7.55098 44.6162C7.61183 44.7075 7.62704 44.8748 7.59662 44.9813C6.82081 47.8563 6.97293 50.8378 6.51658 53.7585C6.07544 56.6639 5.74078 59.5846 5.3757 62.4901C5.31485 63.0073 5.36048 63.5549 5.29964 64.0721C5.254 64.3915 5.10188 64.6958 4.98019 65C4.7368 64.711 4.38693 64.4676 4.28045 64.1481C4.02185 63.3115 3.90015 62.414 3.68719 61.5621C2.97223 58.6719 2.25728 55.7817 1.54233 52.8762C1.49669 52.6632 1.43584 52.4046 1.49669 52.2069C2.13559 50.1381 1.8922 48.0541 1.70966 45.9548C1.67923 45.179 1.6336 44.4337 0.842584 43.886Z" />
              </svg>
              <svg
                className="part4"
                viewBox="0 0 11 52"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M10.0783 0.29364C10.1087 0.521817 10.2152 0.765206 10.1696 0.978171C9.31773 4.67464 8.6332 8.41674 7.06639 11.9155C6.61003 12.9346 6.01677 13.893 6.06241 15.0643C6.06241 15.262 6.09283 15.4598 6.12326 15.6576C6.1841 15.7032 6.26016 15.7336 6.32101 15.7793C6.54918 15.475 6.86863 15.186 7.00554 14.8513C7.49232 13.68 7.90304 12.4783 8.35939 11.307C8.45066 11.0636 8.60278 10.8354 8.72447 10.592C8.80053 10.6072 8.87659 10.6225 8.95265 10.6377C8.90701 11.2461 8.87659 11.8546 8.81574 12.4631C8.34418 16.9201 8.51151 21.362 8.78532 25.819C8.86138 26.9903 8.92223 27.036 9.31773 27.3706C8.16164 28.2986 7.03596 29.2113 5.89508 30.124C5.53 30.4282 5.10406 30.702 4.84546 31.0823C4.69335 31.2801 4.81504 31.6756 4.81504 31.995C5.11928 31.9646 5.49957 32.0559 5.71254 31.9038C7.38583 30.6868 9.07434 29.4547 10.2457 27.6749C10.3369 27.5228 10.4282 27.3859 10.6412 27.3554C7.37062 35.2047 4.10009 43.054 0.799127 51.0098C0.555739 50.7512 0.357985 50.5382 0.14502 50.3252C0.205867 50.3252 0.281926 50.3252 0.342773 50.3252C0.555739 49.23 0.783914 48.1347 0.966456 47.0395C1.20984 45.6856 1.71183 44.4839 2.57891 43.4039C3.09611 42.7498 3.49161 42.0044 3.88712 41.2742C4.02403 41.0156 4.00882 40.6658 4.10009 40.179C2.45721 40.7266 2.41158 42.3999 1.37717 43.343C1.2859 43.1149 1.17942 42.9932 1.19463 42.8563C1.2859 41.548 1.25548 40.2094 1.52929 38.9316C1.71183 38.0797 2.32031 37.3192 2.71581 36.4977C3.68937 34.5354 4.55644 32.5579 3.53725 30.3065C3.36992 29.9566 3.62852 29.3938 3.735 28.9375C3.82627 28.5724 4.05445 28.2377 4.1153 27.8726C4.14572 27.6445 3.9936 27.3859 3.91755 27.1577C3.68937 27.2794 3.35471 27.3554 3.24823 27.538C3.02005 27.9791 2.89835 28.4659 2.71581 28.9527C2.04649 28.831 1.81832 28.4811 1.9248 27.8726C2.41158 25.1497 2.82229 22.4268 3.40034 19.7343C3.76543 18.061 4.38911 16.4486 4.8911 14.8209C5.65169 12.3262 6.36664 9.81623 7.20329 7.35191C7.79655 5.61777 8.58757 3.94447 9.2721 2.22554C9.42422 1.83003 9.51549 1.4041 9.62197 0.993383C9.68282 0.765206 9.74366 0.537029 9.80451 0.308852C9.89578 0.29364 9.98705 0.29364 10.0783 0.29364Z" />
              </svg>
            </div>
          </div>
        </div>
      </div>
    );
  }
}
export default Splash;
